<mxfile host="Electron" modified="2023-08-22T14:55:19.270Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.1.2 Chrome/106.0.5249.199 Electron/21.4.3 Safari/537.36" etag="YyjSAwlrQLmBwxerby_l" version="21.1.2" type="device" pages="3">
  <diagram name="第 1 页" id="H_phv9NLb1_bjYDDR7Co">
    <mxGraphModel dx="1434" dy="2013" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="B8C5eiF6DcNLreH5vgfg-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.008;entryY=0.301;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-1" target="B8C5eiF6DcNLreH5vgfg-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-1" value="xml&lt;br&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="380" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.011;entryY=0.688;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-2" target="B8C5eiF6DcNLreH5vgfg-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-2" value="anotation" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="430" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-3" value="扩展接口&lt;br&gt;接口、约束、规范" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="215" y="360" width="100" height="130" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-4" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="340" y="200" width="530" height="290" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-5" target="B8C5eiF6DcNLreH5vgfg-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="B8C5eiF6DcNLreH5vgfg-13" target="B8C5eiF6DcNLreH5vgfg-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="430" as="sourcePoint" />
            <mxPoint x="697" y="255" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-19" value="反射" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="B8C5eiF6DcNLreH5vgfg-18" vertex="1" connectable="0">
          <mxGeometry x="-0.5855" relative="1" as="geometry">
            <mxPoint x="50" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-5" value="BeanDefinition" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="380" y="415" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1.017;exitY=0.583;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-3" target="B8C5eiF6DcNLreH5vgfg-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-9" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;BeanDefinitionReader&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;align=center;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="190" y="500" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-10" value="接口与抽象类区别：&lt;br&gt;接口： 自上向下，不需要考虑具体实现，仅需要考虑子类的约束及规范&lt;br&gt;抽象类：自下向上，抽象类需要考虑子类的共性，被将其抽象为抽象类" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="40" y="250" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-11" value="BeanFactoryPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="290" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;curved=1;dashed=1;strokeColor=#FF8000;" parent="1" source="B8C5eiF6DcNLreH5vgfg-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="306" y="-67" as="targetPoint" />
            <Array as="points">
              <mxPoint x="310" y="345" />
              <mxPoint x="310" y="240" />
              <mxPoint x="306" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-12" value="BeanFactoryPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="360" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-13" value="完整 BeanDefinition&amp;nbsp;对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="220" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ve4LQiR6ZCnitlAYP5x-1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-15" target="B8C5eiF6DcNLreH5vgfg-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-15" value="创建bean对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="220" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ve4LQiR6ZCnitlAYP5x-2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-16" target="B8C5eiF6DcNLreH5vgfg-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-16" value="使用bean对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="310" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-17" value="销毁bean对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="385" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-20" value="&amp;lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&amp;gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;lt;property name=&quot;username&quot; value=&quot;${jdbcusername}&quot;&amp;gt;&amp;lt;/property&amp;gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;&amp;gt; &amp;lt;/property&amp;gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;&amp;gt;&amp;lt;/property&amp;gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot;&amp;gt;&amp;lt;/property&amp;gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&amp;lt;/bean&amp;gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#d6b656;fillColor=#fff2cc;fontStyle=0;fontSize=13;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="267.5" y="-180" width="510" height="110" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-21" target="B8C5eiF6DcNLreH5vgfg-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-21" value="PostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="785" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-22" target="B8C5eiF6DcNLreH5vgfg-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-22" value="后置处理增强器" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="785" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-23" target="B8C5eiF6DcNLreH5vgfg-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-23" target="B8C5eiF6DcNLreH5vgfg-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-23" value="提供某些额外扩展功能" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="785" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-24" target="B8C5eiF6DcNLreH5vgfg-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-24" value="BeanFactoryPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="683" y="745" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-28" value="BeanPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="683" y="815" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-32" value="BeanDefinitionRegistryPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="913" y="685" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-34" target="B8C5eiF6DcNLreH5vgfg-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-34" value="ConfigurationClassPostProcessor&lt;span style=&quot;border-color: var(--border-color); color: rgb(80, 80, 80); font-family: &amp;quot;Lucida Grande&amp;quot;, &amp;quot;Lucida Sans Unicode&amp;quot;, Helvetica, Arial, Verdana, sans-serif; font-size: 14px; text-align: justify;&quot;&gt;&amp;nbsp;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="637.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-35" target="B8C5eiF6DcNLreH5vgfg-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-35" value="@Component&lt;br&gt;@ComponentScan&lt;br&gt;@PropertySource&lt;br&gt;@Import" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="240" y="630" width="120" height="55" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-43" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;AutowiredAnnotationBeanPostProcessor @Autowired 注解实现&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="317.5" y="40" width="485" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-44" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;PropertyPlaceHolderConfigurer 占位符实现&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="317.5" y="-50" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B8C5eiF6DcNLreH5vgfg-45" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="650" y="115" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-45" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;ConfigurationClassPostProcessor&amp;nbsp; &amp;nbsp;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="317.5" y="100" width="292.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-46" value="@Component&lt;br&gt;@ComponentScan&lt;br&gt;@PropertySource&lt;br&gt;@Import&lt;br&gt;@Bean" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF8000;" parent="1" vertex="1">
          <mxGeometry x="657.5" y="80" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-49" value="&lt;code style=&quot;border-color: var(--border-color); box-sizing: border-box; outline: 0px; font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; line-height: 22px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 2px; padding: 2px 4px; overflow-wrap: break-word; font-variant-ligatures: no-common-ligatures;&quot;&gt;CommonAnnotationBeanPostProcessor&amp;nbsp; @Resource 注解实现&lt;/code&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; font-size: 16px; font-variant-ligatures: no-common-ligatures; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="315" y="-10" width="452.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-50" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontColor=#FF8000;strokeColor=#FF8000;" parent="1" vertex="1">
          <mxGeometry x="340" y="300" width="20" height="85" as="geometry" />
        </mxCell>
        <mxCell id="B8C5eiF6DcNLreH5vgfg-51" value="....." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="410" y="335" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="Vx4qqhyl4Hb8PH3wEOMA-2" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;BeanFactory 与 FactoryBean 区别&lt;br&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#b5739d&quot;&gt;BeanFactory ：并不是指根接口，而是bean对象创建的整体流程，Bean的生命周期是一个完整的标准化流程，相比比较麻烦&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;font color=&quot;#1a1a1a&quot;&gt;FactoryBean： 用来创建Bean对象，提供了三个接口：isSingleton, getObjectType, getObject. 可以完成私人定制生成 bean&lt;/font&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="110" y="870" width="430" height="140" as="geometry" />
        </mxCell>
        <mxCell id="FLEQnHiZIRINYppnUx92-1" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;pre style=&quot;font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt;&lt;br&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;Bean factory implementations should support the standard bean lifecycle interfaces&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * as far as possible. The full set of initialization methods and their standard order is:&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;BeanNameAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setBeanName}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;BeanClassLoaderAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setBeanClassLoader}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;BeanFactoryAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setBeanFactory}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;EnvironmentAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setEnvironment}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;EmbeddedValueResolverAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setEmbeddedValueResolver}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;ResourceLoaderAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setResourceLoader}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * (only applicable when running in an application context)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;ApplicationEventPublisherAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setApplicationEventPublisher}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * (only applicable when running in an application context)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;MessageSourceAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setMessageSource}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * (only applicable when running in an application context)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;ApplicationContextAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setApplicationContext}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * (only applicable when running in an application context)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;ServletContextAware&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;setServletContext}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * (only applicable when running in a web application context)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;postProcessBeforeInitialization} methods of BeanPostProcessors&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;InitializingBean&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;afterPropertiesSet}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;a custom init-method definition&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;postProcessAfterInitialization} methods of BeanPostProcessors&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;On shutdown of a bean factory, the following lifecycle methods apply:&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;ol&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;postProcessBeforeDestruction} methods of DestructionAwareBeanPostProcessors&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;DisposableBean&#39;s {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;destroy}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;a custom destroy-method definition&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;/ol&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#75c2b3;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#75c2b3;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;*/&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(41, 42, 48); font-size: 10.5pt; font-family: Consolas, monospace; color: rgb(223, 223, 224);&quot;&gt;&lt;span style=&quot;font-size: 10.5pt; color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;public interface &lt;/span&gt;&lt;span style=&quot;font-size: 10.5pt; color: rgb(101, 223, 255);&quot;&gt;BeanFactory &lt;/span&gt;&lt;span style=&quot;font-size: 10.5pt;&quot;&gt;{&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#49b0ce;font-style:italic;&quot;&gt;FACTORY_BEAN_PREFIX &lt;/span&gt;= &lt;span style=&quot;color:#ff806c;&quot;&gt;&quot;&amp;amp;&quot;&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBean&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#507874;&quot;&gt;T &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBean&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;requiredType&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBean&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;Object&lt;/span&gt;... &lt;span style=&quot;color:#fcfcfc;&quot;&gt;args&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#507874;&quot;&gt;T &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBean&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;requiredType&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#507874;&quot;&gt;T &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBean&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;requiredType&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;Object&lt;/span&gt;... &lt;span style=&quot;color:#fcfcfc;&quot;&gt;args&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#65dfff;&quot;&gt;ObjectProvider&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#75c2b3;&quot;&gt;getBeanProvider&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;requiredType&lt;/span&gt;);&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#65dfff;&quot;&gt;ObjectProvider&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#75c2b3;&quot;&gt;getBeanProvider&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;ResolvableType &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;requiredType&lt;/span&gt;);&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;containsBean&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;);&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;isSingleton&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;NoSuchBeanDefinitionException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;isPrototype&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;NoSuchBeanDefinitionException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;isTypeMatch&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;ResolvableType &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;typeToMatch&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;NoSuchBeanDefinitionException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;isTypeMatch&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;typeToMatch&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;NoSuchBeanDefinitionException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; &lt;span style=&quot;color:#75c2b3;&quot;&gt;getType&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;NoSuchBeanDefinitionException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; &lt;span style=&quot;color:#75c2b3;&quot;&gt;getType&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;, &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;allowFactoryBeanInit&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;NoSuchBeanDefinitionException&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;String&lt;/span&gt;[] &lt;span style=&quot;color:#75c2b3;&quot;&gt;getAliases&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;name&lt;/span&gt;);&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="630" y="860" width="780" height="1230" as="geometry" />
        </mxCell>
        <mxCell id="FLEQnHiZIRINYppnUx92-2" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;public interface &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;FactoryBean&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; {&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#49b0ce;font-style:italic;&quot;&gt;OBJECT_TYPE_ATTRIBUTE &lt;/span&gt;= &lt;span style=&quot;color:#ff806c;&quot;&gt;&quot;factoryBeanObjectType&quot;&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#507874;&quot;&gt;T &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getObject&lt;/span&gt;() &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Exception&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; &lt;span style=&quot;color:#75c2b3;&quot;&gt;getObjectType&lt;/span&gt;();&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;default boolean &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;isSingleton&lt;/span&gt;() {&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;return true&lt;/span&gt;;&lt;br&gt;   }&lt;br&gt;&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="110" y="1040" width="560" height="280" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YZE_eAcnDGKAQX8I5oji" name="Bean生命周期">
    <mxGraphModel dx="2261" dy="2013" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="#999999" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="moT5ovxFiUXHjfuxQooE-7" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-170" y="-286.5" width="500" height="270" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-1" value="" style="rounded=1;whiteSpace=wrap;html=1;align=left;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="325" y="195" width="310" height="495" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="365" y="215" width="230" height="140" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-4" value="createBeanInstance" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390.25" y="75" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-8" target="tmx5XZWJirqrL8DeFQIK-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-7" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-8" target="tmx5XZWJirqrL8DeFQIK-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-8" value="自定义属性赋值" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="235" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-9" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-4" target="tmx5XZWJirqrL8DeFQIK-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-10" value="populateBean&lt;br&gt;set方法完成赋值" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="705" y="235" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-11" value="初始化" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1;rounded=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="250" y="455" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-12" value="实例化" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1;rounded=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="309.25" y="90" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-13" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-14" target="tmx5XZWJirqrL8DeFQIK-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-27" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-14" target="tmx5XZWJirqrL8DeFQIK-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-14" value="容器属性对象&lt;br&gt;属性赋值" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="295" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-15" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="tmx5XZWJirqrL8DeFQIK-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1075" y="315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-16" value="invokeAwareMethods" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="705" y="295" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-17" value="属性&lt;br&gt;赋值" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1;rounded=1;fontColor=#6666FF;" parent="1" vertex="1">
          <mxGeometry x="365" y="260" width="50" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-19" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;BeanFactoryAware&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="879.5" y="270" width="132.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-20" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;ApplicationContextAware&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="865" y="325" width="191.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-28" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-21" target="tmx5XZWJirqrL8DeFQIK-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-21" value="获得普通对象是否需要进行扩展？" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="381" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-25" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-22" target="tmx5XZWJirqrL8DeFQIK-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-29" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-22" target="tmx5XZWJirqrL8DeFQIK-42" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-22" value="执行前置处理方法" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="455" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-26" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-23" target="tmx5XZWJirqrL8DeFQIK-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-53" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-23" target="tmx5XZWJirqrL8DeFQIK-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-23" value="执行后置处理方法" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="620" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-24" value="BeanPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="650" y="535" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-30" value="AOP" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="826.25" y="535" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-31" value="动态代理&lt;br&gt;jdk&lt;br&gt;cglib" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="966.25" y="520" width="78.75" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-32" value="AbstractAutoProxyCreator" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1075" y="535" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vqOfYcdOkiAT4_1Vw8kt-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="tmx5XZWJirqrL8DeFQIK-33" target="vqOfYcdOkiAT4_1Vw8kt-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1900" y="505" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-33" value="JdkDynamicAopProxy" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1639.25" y="485" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-34" value="CglibAopProxy" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1639.25" y="565" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-37" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-36" target="tmx5XZWJirqrL8DeFQIK-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-38" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-36" target="tmx5XZWJirqrL8DeFQIK-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-36" value="DefaultAopProxyFactory" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1310" y="535" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-39" value="目标对象为接口或代理类&lt;br&gt;使用jdk动态代理" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1460" y="470" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-40" value="其他情况使用cglib代理" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1480" y="590" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-41" value="AOP用做Bean对象的扩展实现&lt;br&gt;AOP是IOC整体流程中的一个扩展点" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#FFFF00;" parent="1" vertex="1">
          <mxGeometry x="751.25" y="495" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-44" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-42" target="tmx5XZWJirqrL8DeFQIK-45" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="327.15999999999997" y="590.3300000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-50" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-42" target="tmx5XZWJirqrL8DeFQIK-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-42" value="执行初始化方法" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="420" y="540" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-48" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#B5739D;" parent="1" source="tmx5XZWJirqrL8DeFQIK-45" target="tmx5XZWJirqrL8DeFQIK-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-45" value="invokeInitMethods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="147.5" y="540" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-49" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#B5739D;" parent="1" source="tmx5XZWJirqrL8DeFQIK-46" target="tmx5XZWJirqrL8DeFQIK-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-46" value="检测bean是否实现了InitializingBean接口" style="rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="142.5" y="615" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-47" value="调用afterPropertiesSet方法" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="130" y="725" width="155" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-54" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tmx5XZWJirqrL8DeFQIK-51" target="tmx5XZWJirqrL8DeFQIK-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-51" value="使用bean" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="420" y="720" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tmx5XZWJirqrL8DeFQIK-52" value="销毁bean" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="420" y="800" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bBO_MLJO0XdoIrWePPF-1" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@FunctionalInterface&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;public interface &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanFactoryPostProcessor &lt;/span&gt;{&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * Modify the application context&#39;s internal bean factory after its standard&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * initialization. All bean definitions will have been loaded, but no beans&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * will have been instantiated yet. This allows for overriding or adding&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * properties even to eager-initializing beans.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#8a653b;font-style:italic;&quot;&gt;beanFactory &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the bean factory used by the application context&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;font-style:italic;&quot;&gt;org.springframework.beans.BeansException &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;in case of errors&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;postProcessBeanFactory&lt;/span&gt;(&lt;span style=&quot;color:#65dfff;&quot;&gt;ConfigurableListableBeanFactory &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException&lt;/span&gt;;&lt;br&gt;&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="725.63" y="-334" width="560" height="290" as="geometry" />
        </mxCell>
        <mxCell id="QHI8g30eLpnYrYxI90MA-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="I4ppQ3oQxLDuOPTH-o5P-1" target="QHI8g30eLpnYrYxI90MA-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="I4ppQ3oQxLDuOPTH-o5P-1" value="xml / annotation" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="-454" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YqvTE1eY42du9nVnJOwv-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="QHI8g30eLpnYrYxI90MA-1" target="GxJO7_rq0KgeL8iliY9k-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QHI8g30eLpnYrYxI90MA-1" value="BeanDefinitionReader" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="415" y="-368" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YqvTE1eY42du9nVnJOwv-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="GxJO7_rq0KgeL8iliY9k-1" target="YqvTE1eY42du9nVnJOwv-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GxJO7_rq0KgeL8iliY9k-1" value="BeanDefinition" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="-290" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YqvTE1eY42du9nVnJOwv-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;strokeColor=#FF8000;" parent="1" source="YqvTE1eY42du9nVnJOwv-1" target="8bBO_MLJO0XdoIrWePPF-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YqvTE1eY42du9nVnJOwv-1" value="BeanFactoryPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="-204" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W7s-fR4J-az_OcM385tG-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="YqvTE1eY42du9nVnJOwv-2" target="tmx5XZWJirqrL8DeFQIK-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YqvTE1eY42du9nVnJOwv-2" value="BeanFactoryPostProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="-134" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="YqvTE1eY42du9nVnJOwv-3" target="moT5ovxFiUXHjfuxQooE-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YqvTE1eY42du9nVnJOwv-3" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;fontColor=#FF8000;strokeColor=#FF8000;" parent="1" vertex="1">
          <mxGeometry x="380" y="-194" width="20" height="85" as="geometry" />
        </mxCell>
        <mxCell id="YqvTE1eY42du9nVnJOwv-4" value="....." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="450" y="-159" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="W7s-fR4J-az_OcM385tG-1" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;public interface &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor &lt;/span&gt;{&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;default &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;postProcessBeforeInitialization&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException &lt;/span&gt;{&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;;&lt;br&gt;   }&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;default &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;postProcessAfterInitialization&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;) &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException &lt;/span&gt;{&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;;&lt;br&gt;   }&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="705" y="650" width="798.75" height="230" as="geometry" />
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-1" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;AutowiredAnnotationBeanPostProcessor @Autowired 注解实现&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="-143.75" y="-156.5" width="463.75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-2" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;PropertyPlaceHolderConfigurer 占位符实现&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="-143.75" y="-246.5" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="moT5ovxFiUXHjfuxQooE-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="188.75" y="-81.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-4" value="&lt;span style=&quot;color: rgb(199, 37, 78); font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: no-common-ligatures; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;ConfigurationClassPostProcessor&amp;nbsp; &amp;nbsp;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="-143.75" y="-96.5" width="292.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-5" value="@Component&lt;br&gt;@ComponentScan&lt;br&gt;@PropertySource&lt;br&gt;@Import&lt;br&gt;@Bean" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF8000;" parent="1" vertex="1">
          <mxGeometry x="196.25" y="-116.5" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-6" value="&lt;code style=&quot;border-color: var(--border-color); box-sizing: border-box; outline: 0px; font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; font-size: 14px; line-height: 22px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 2px; padding: 2px 4px; overflow-wrap: break-word; font-variant-ligatures: no-common-ligatures;&quot;&gt;CommonAnnotationBeanPostProcessor&amp;nbsp; @Resource 注解实现&lt;/code&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; font-size: 16px; font-variant-ligatures: no-common-ligatures; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="-146.25" y="-206.5" width="452.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moT5ovxFiUXHjfuxQooE-10" value="实例化： 在堆空间申请空间，对象的属性值一般是默认值，使用反射创建对象的过程" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="579.25" y="60" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="iNU60DaRbtVFWZNvAJvC-2" value="&lt;pre style=&quot;background-color: rgb(41, 42, 48); font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;color: rgb(223, 223, 224);&quot;&gt;&lt;/span&gt;// &lt;font color=&quot;#ff8000&quot;&gt;BeanPostProcessor 注册过程&lt;/font&gt;&lt;span style=&quot;color: rgb(223, 223, 224);&quot;&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;&lt;br/&gt;final class &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;PostProcessorRegistrationDelegate &lt;/span&gt;{&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;public static void &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;registerBeanPostProcessors&lt;/span&gt;(&lt;br&gt;           &lt;span style=&quot;color:#65dfff;&quot;&gt;ConfigurableListableBeanFactory &lt;/span&gt;beanFactory, &lt;span style=&quot;color:#82e6ff;&quot;&gt;AbstractApplicationContext &lt;/span&gt;applicationContext) {&lt;br&gt;&lt;br&gt;      &lt;span style=&quot;color:#82e6ff;&quot;&gt;String&lt;/span&gt;[] &lt;span style=&quot;color:#fcfcfc;&quot;&gt;postProcessorNames &lt;/span&gt;= &lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBeanNamesForType&lt;/span&gt;(&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor&lt;/span&gt;.&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;class&lt;/span&gt;, &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;true&lt;/span&gt;, &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;false&lt;/span&gt;);&lt;br&gt;&lt;br&gt;      &lt;span style=&quot;color:#7f8c99;&quot;&gt;// Register BeanPostProcessorChecker that logs an info message when&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#7f8c99;&quot;&gt;      // a bean is created during BeanPostProcessor instantiation, i.e. when&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#7f8c99;&quot;&gt;      // a bean is not eligible for getting processed by all BeanPostProcessors.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#7f8c99;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanProcessorTargetCount &lt;/span&gt;= &lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBeanPostProcessorCount&lt;/span&gt;() + &lt;span style=&quot;color:#d7c781;&quot;&gt;1 &lt;/span&gt;+ &lt;span style=&quot;color:#fcfcfc;&quot;&gt;postProcessorNames&lt;/span&gt;.&lt;span style=&quot;color:#49b0ce;&quot;&gt;length&lt;/span&gt;;&lt;br&gt;      &lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;addBeanPostProcessor&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;org.springframework.context.support.PostProcessorRegistrationDelegate&lt;br&gt;&lt;/span&gt;                                         .BeanPostProcessorChecker(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;, &lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanProcessorTargetCount&lt;/span&gt;));&lt;br&gt;&lt;br&gt;      &lt;span style=&quot;color:#7f8c99;&quot;&gt;// Separate between BeanPostProcessors that implement PriorityOrdered,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#7f8c99;&quot;&gt;      // Ordered, and the rest.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#7f8c99;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;priorityOrderedPostProcessors &lt;/span&gt;= &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();&lt;br&gt;      &lt;span style=&quot;color:#65dfff;&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;internalPostProcessors &lt;/span&gt;= &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();&lt;br&gt;      &lt;span style=&quot;color:#65dfff;&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;String&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;orderedPostProcessorNames &lt;/span&gt;= &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();&lt;br&gt;      &lt;span style=&quot;color:#65dfff;&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;String&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#fcfcfc;&quot;&gt;nonOrderedPostProcessorNames &lt;/span&gt;= &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;ArrayList&lt;/span&gt;&amp;lt;&amp;gt;();&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;ppName &lt;/span&gt;: &lt;span style=&quot;color:#fcfcfc;&quot;&gt;postProcessorNames&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;isTypeMatch&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;ppName&lt;/span&gt;, &lt;span style=&quot;color:#65dfff;&quot;&gt;PriorityOrdered&lt;/span&gt;.&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;class&lt;/span&gt;)) {&lt;br&gt;            &lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;pp &lt;/span&gt;= &lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;getBean&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;ppName&lt;/span&gt;, &lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor&lt;/span&gt;.&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;class&lt;/span&gt;);&lt;br&gt;            &lt;span style=&quot;color:#fcfcfc;&quot;&gt;priorityOrderedPostProcessors&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;pp&lt;/span&gt;);&lt;br&gt;            &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;pp &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;MergedBeanDefinitionPostProcessor&lt;/span&gt;) {&lt;br&gt;               &lt;span style=&quot;color:#fcfcfc;&quot;&gt;internalPostProcessors&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;pp&lt;/span&gt;);&lt;br&gt;            }&lt;br&gt;         }&lt;br&gt;         &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;else if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanFactory&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;isTypeMatch&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;ppName&lt;/span&gt;, &lt;span style=&quot;color:#65dfff;&quot;&gt;Ordered&lt;/span&gt;.&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;class&lt;/span&gt;)) {&lt;br&gt;            &lt;span style=&quot;color:#fcfcfc;&quot;&gt;orderedPostProcessorNames&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;ppName&lt;/span&gt;);&lt;br&gt;         }&lt;br&gt;         &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;else &lt;/span&gt;{&lt;br&gt;            &lt;span style=&quot;color:#fcfcfc;&quot;&gt;nonOrderedPostProcessorNames&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;ppName&lt;/span&gt;);&lt;br&gt;         }&lt;br&gt;      }&lt;br&gt;&lt;br&gt;     &lt;/span&gt;&lt;font color=&quot;#00cc00&quot;&gt; // BeanPostProcessor 注册过程，先注册实现PriorityOrdered接口的Processor，&lt;br&gt;      // 再注册实现Ordered接口的Processor，最后注册普通的Processor&lt;/font&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;// First, register the BeanPostProcessors that implement PriorityOrdered.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: rgb(223, 223, 224); font-style: italic;&quot;&gt;sortPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;priorityOrderedPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(223, 223, 224); font-style: italic;&quot;&gt;registerBeanPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;priorityOrderedPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;// Next, register the BeanPostProcessors that implement Ordered.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;List&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;lt;&lt;/font&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;orderedPostProcessors &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;ArrayList&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;lt;&amp;gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;orderedPostProcessorNames&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;size&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;());&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;for &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(130, 230, 255);&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;ppName &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;: &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;orderedPostProcessorNames&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;BeanPostProcessor &lt;/span&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;getBean&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;ppName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;class&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;orderedPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;add&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp &lt;/span&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;MergedBeanDefinitionPostProcessor&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;            &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;internalPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;add&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;         }&lt;br&gt;      }&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(223, 223, 224); font-style: italic;&quot;&gt;sortPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;orderedPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(223, 223, 224); font-style: italic;&quot;&gt;registerBeanPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;orderedPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;// Now, register all regular BeanPostProcessors.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;List&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;lt;&lt;/font&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;nonOrderedPostProcessors &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;ArrayList&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;lt;&amp;gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;nonOrderedPostProcessorNames&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;size&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;());&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;for &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(130, 230, 255);&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;ppName &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;: &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;nonOrderedPostProcessorNames&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;BeanPostProcessor &lt;/span&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;getBean&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;ppName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;class&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;nonOrderedPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;add&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp &lt;/span&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;MergedBeanDefinitionPostProcessor&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;            &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;internalPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;add&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;pp&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;         }&lt;br&gt;      }&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(223, 223, 224); font-style: italic;&quot;&gt;registerBeanPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;nonOrderedPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;// Finally, re-register all internal BeanPostProcessors.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: rgb(223, 223, 224); font-style: italic;&quot;&gt;sortPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;internalPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(223, 223, 224); font-style: italic;&quot;&gt;registerBeanPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;internalPostProcessors&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;/font&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="709.25" y="870" width="863.75" height="1140" as="geometry" />
        </mxCell>
        <mxCell id="iNU60DaRbtVFWZNvAJvC-3" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;private void &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;invokeAwareMethods&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;final &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;, &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;final &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;) {&lt;br&gt;   &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;Aware&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanNameAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanNameAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setBeanName&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;);&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanClassLoaderAware&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#82e6ff;&quot;&gt;ClassLoader &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bcl &lt;/span&gt;= &lt;span style=&quot;color:#75c2b3;&quot;&gt;getBeanClassLoader&lt;/span&gt;();&lt;br&gt;         &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bcl &lt;/span&gt;!= &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;            ((&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanClassLoaderAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setBeanClassLoader&lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bcl&lt;/span&gt;);&lt;br&gt;         }&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanFactoryAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanFactoryAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setBeanFactory&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;AbstractAutowireCapableBeanFactory&lt;/span&gt;.&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;this&lt;/span&gt;);&lt;br&gt;      }&lt;br&gt;   }&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1079.25" y="155" width="560" height="320" as="geometry" />
        </mxCell>
        <mxCell id="iNU60DaRbtVFWZNvAJvC-4" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;class &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;ApplicationContextAwareProcessor &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;implements &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor &lt;/span&gt;{&lt;br&gt;   &lt;br&gt;   ... &lt;br&gt;   &lt;br&gt;   &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;private void &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;invokeAwareInterfaces&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;bean) {&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;EnvironmentAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;EnvironmentAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setEnvironment&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;this&lt;/span&gt;.applicationContext.getEnvironment());&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;EmbeddedValueResolverAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;EmbeddedValueResolverAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setEmbeddedValueResolver&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;this&lt;/span&gt;.embeddedValueResolver);&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;ResourceLoaderAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;ResourceLoaderAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setResourceLoader&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;this&lt;/span&gt;.applicationContext);&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;ApplicationEventPublisherAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;ApplicationEventPublisherAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setApplicationEventPublisher&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;this&lt;/span&gt;.applicationContext);&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;MessageSourceAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;MessageSourceAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setMessageSource&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;this&lt;/span&gt;.applicationContext);&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;ApplicationContextAware&lt;/span&gt;) {&lt;br&gt;         ((&lt;span style=&quot;color:#65dfff;&quot;&gt;ApplicationContextAware&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;).&lt;span style=&quot;color:#75c2b3;&quot;&gt;setApplicationContext&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;this&lt;/span&gt;.applicationContext);&lt;br&gt;      }&lt;br&gt;   }&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1800" width="800" height="420" as="geometry" />
        </mxCell>
        <mxCell id="vqOfYcdOkiAT4_1Vw8kt-1" value="&lt;div style=&quot;background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:12.0pt;&quot;&gt;&lt;pre&gt;AbstractAutoProxyCreator&lt;/pre&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="780" y="470" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="vqOfYcdOkiAT4_1Vw8kt-5" value="&lt;div style=&quot;background-color: rgb(43, 43, 43); font-size: 14px;&quot;&gt;&lt;pre style=&quot;color: rgb(169, 183, 198); font-size: 14px;&quot;&gt;&lt;font face=&quot;consonla&quot; style=&quot;font-size: 14px;&quot;&gt;  &lt;br&gt;   &lt;/font&gt;Proxy.newProxyInstance&lt;span style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 12pt;&quot;&gt;(classLoader&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 12pt; color: rgb(204, 120, 50);&quot;&gt;, this&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 12pt;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 12pt; color: rgb(152, 118, 170);&quot;&gt;proxiedInterfaces&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 12pt; color: rgb(204, 120, 50);&quot;&gt;, this&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 12pt;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;font-size: 14px;&quot;&gt;&lt;font face=&quot;consonla&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 14px;&quot;&gt;   // &lt;/span&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;最终通过 &lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#ff3333&quot;&gt;ProxyGenerator 来生成代理对象&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;color: rgb(169, 183, 198); font-size: 14px;&quot;&gt;&lt;font face=&quot;consonla&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 14px;&quot;&gt;  /*&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 14px;&quot;&gt;   * Generate the specified proxy class.&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128); font-size: 14px;&quot;&gt;   */&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;    byte&lt;/span&gt;[] proxyClassFile = ProxyGenerator.&lt;span style=&quot;font-style: italic; font-size: 14px;&quot;&gt;generateProxyClass&lt;/span&gt;( proxyName&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;, &lt;/span&gt;interfaces&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;, &lt;/span&gt;accessFlags)&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;    try &lt;/span&gt;{&lt;br style=&quot;font-size: 14px;&quot;&gt;        &lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;font-style: italic; font-size: 14px;&quot;&gt;defineClass0 &lt;/span&gt;( loader&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;, &lt;/span&gt;proxyName&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt; &lt;/span&gt;proxyClassFile&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(104, 151, 187); font-size: 14px;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;, &lt;/span&gt;proxyClassFile.&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 14px;&quot;&gt;length&lt;/span&gt;)&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;     } &lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;catch &lt;/span&gt;(ClassFormatError e) {&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;font-size: 14px;&quot;&gt;&lt;font face=&quot;consonla&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;     }&lt;br style=&quot;font-size: 14px;&quot;&gt;   }&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;   // &lt;/font&gt;&lt;font color=&quot;#ff3333&quot;&gt;通过 &lt;/font&gt;&lt;/font&gt;&lt;font color=&quot;#ff3333&quot;&gt;ProxyGenerator.generateProxyClass 生成代理类的代理类 $Proxy&lt;/font&gt;&lt;span style=&quot;color: rgb(169, 183, 198);&quot;&gt; &lt;br/&gt;  // &lt;/span&gt;&lt;font color=&quot;#ff3333&quot;&gt;继承于 Proxy 并实现了相关接口&lt;/font&gt;&lt;span style=&quot;color: rgb(169, 183, 198);&quot;&gt;&lt;br/&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;pre style=&quot;font-size: 14px;&quot;&gt;&lt;font face=&quot;consonla&quot; style=&quot;font-size: 14px;&quot;&gt;   public final class $Proxy &lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;extends &lt;/span&gt;Proxy &lt;span style=&quot;color: rgb(204, 120, 50); font-size: 14px;&quot;&gt;implements &lt;/span&gt;IUserService{&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;font-size: 14px;&quot;&gt;&lt;font face=&quot;consonla&quot; style=&quot;font-size: 14px;&quot;&gt;    }&lt;/font&gt;&lt;/pre&gt;&lt;/div&gt;&lt;font face=&quot;JetBrains Mono, monospace&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;verticalAlign=middle;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1940" y="445" width="786" height="390" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="dpsbVq0SrYNhG9pYq8xI" name="Bean循环依赖">
    <mxGraphModel dx="1434" dy="844" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="#9E9D9B" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="D0Ritu74fDDLKqqvHMHd-1" value="&lt;pre style=&quot;background-color: rgb(43, 43, 43); font-family: Consolas, monospace; font-size: 17px;&quot;&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 17px;&quot;&gt;/** Cache of singleton objects: bean name to bean instance. */ &lt;/span&gt;&lt;span style=&quot;font-style: italic; font-size: 17px;&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;一级缓存&lt;/font&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;br style=&quot;font-size: 17px;&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;private final &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;Map&amp;lt;String&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;, &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;Object&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 17px;&quot;&gt;singletonObjects &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;new &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;ConcurrentHashMap&amp;lt;&amp;gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(104, 151, 187); font-size: 17px;&quot;&gt;256&lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;)&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;;&lt;br style=&quot;font-size: 17px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;&lt;br style=&quot;font-size: 17px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 17px;&quot;&gt;/** Cache of singleton factories: bean name to ObjectFactory. */ &lt;/span&gt;&lt;span style=&quot;font-style: italic; font-size: 17px;&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;三级缓存&lt;/font&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;br style=&quot;font-size: 17px;&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;private final &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;Map&amp;lt;String&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;, &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;ObjectFactory&amp;lt;?&amp;gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 17px;&quot;&gt;singletonFactories &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;new &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;HashMap&amp;lt;&amp;gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(104, 151, 187); font-size: 17px;&quot;&gt;16&lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;)&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;;&lt;br style=&quot;font-size: 17px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;&lt;br style=&quot;font-size: 17px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-style: italic; font-size: 17px;&quot;&gt;/** Cache of early singleton objects: bean name to bean instance. */ &lt;/span&gt;&lt;span style=&quot;font-style: italic; font-size: 17px;&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;二级缓存&lt;/font&gt;&lt;font color=&quot;#629755&quot;&gt;&lt;br style=&quot;font-size: 17px;&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;private final &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;Map&amp;lt;String&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;, &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;Object&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(152, 118, 170); font-size: 17px;&quot;&gt;earlySingletonObjects &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;new &lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;HashMap&amp;lt;&amp;gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(104, 151, 187); font-size: 17px;&quot;&gt;16&lt;/span&gt;&lt;font color=&quot;#a9b7c6&quot;&gt;)&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 120, 50); font-size: 17px;&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;align=left;verticalAlign=middle;fontSize=17;" parent="1" vertex="1">
          <mxGeometry x="30" y="40" width="790" height="180" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-2" target="D0Ritu74fDDLKqqvHMHd-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-2" value="A&lt;br&gt;b" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="320" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-3" target="D0Ritu74fDDLKqqvHMHd-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-3" target="D0Ritu74fDDLKqqvHMHd-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-3" value="判断容器是否有B对象" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="510" y="585" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-4" target="D0Ritu74fDDLKqqvHMHd-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-4" value="B&lt;br&gt;a" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="340" y="320" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-7" target="D0Ritu74fDDLKqqvHMHd-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-7" value="创建A对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="490" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-8" target="D0Ritu74fDDLKqqvHMHd-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-8" target="D0Ritu74fDDLKqqvHMHd-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-8" value="对A对象进行&lt;br&gt;实例化操作" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="350" y="490" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-9" target="D0Ritu74fDDLKqqvHMHd-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-9" value="对A对象的&lt;br&gt;属性b赋值" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="490" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-13" target="D0Ritu74fDDLKqqvHMHd-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-13" value="直接赋值即可" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="650" y="605" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-16" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="605" y="595" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-17" target="D0Ritu74fDDLKqqvHMHd-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-17" value="创建B对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="730" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-19" target="D0Ritu74fDDLKqqvHMHd-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-19" target="D0Ritu74fDDLKqqvHMHd-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-19" value="对B对象进行&lt;br&gt;实例化操作" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="350" y="730" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-20" target="D0Ritu74fDDLKqqvHMHd-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-20" value="对B对象的&lt;br&gt;属性a赋值" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="730" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-23" target="D0Ritu74fDDLKqqvHMHd-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-23" target="D0Ritu74fDDLKqqvHMHd-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-23" value="判断容器是否有A对象" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="210" y="585" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-26" target="D0Ritu74fDDLKqqvHMHd-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-26" value="直接赋值即可" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="45" y="605" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-29" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="550" y="675" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-30" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="220" y="555" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-31" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="180" y="605" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-32" value="x" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#FF3333;fontSize=15;fontStyle=0" parent="1" vertex="1">
          <mxGeometry x="245" y="555" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-33" target="D0Ritu74fDDLKqqvHMHd-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-33" target="D0Ritu74fDDLKqqvHMHd-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-33" value="将对象按照&lt;br&gt;状态分类" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="145" y="890" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-34" target="D0Ritu74fDDLKqqvHMHd-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-34" value="成品" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="850" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-35" target="D0Ritu74fDDLKqqvHMHd-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-35" value="半成品" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="920" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-38" value="完成实例化及初始化" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="850" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-39" value="完成实例化但未初始化" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="920" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-42" target="D0Ritu74fDDLKqqvHMHd-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="D0Ritu74fDDLKqqvHMHd-42" target="D0Ritu74fDDLKqqvHMHd-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D0Ritu74fDDLKqqvHMHd-42" value="map&lt;br&gt;A：半成品&lt;br&gt;B：半成品" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="345" y="565" width="110" height="120" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_urLeYpb0RaFv62LWEhA-1" target="_urLeYpb0RaFv62LWEhA-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-1" value="getBean" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="605" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_urLeYpb0RaFv62LWEhA-2" target="_urLeYpb0RaFv62LWEhA-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-2" value="doGetBean" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1060" y="605" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_urLeYpb0RaFv62LWEhA-3" target="_urLeYpb0RaFv62LWEhA-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-3" value="createBean" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1190" y="605" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_urLeYpb0RaFv62LWEhA-4" target="_urLeYpb0RaFv62LWEhA-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-4" value="doCreateBean" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1330" y="605" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_urLeYpb0RaFv62LWEhA-5" target="_urLeYpb0RaFv62LWEhA-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-5" value="createBeanInstance" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1470" y="605" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-6" value="populateBean" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1620" y="605" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xmUlcWtJKHaokU7bJ7lM-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_urLeYpb0RaFv62LWEhA-12" target="_urLeYpb0RaFv62LWEhA-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-12" value="一级缓存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="260" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xmUlcWtJKHaokU7bJ7lM-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_urLeYpb0RaFv62LWEhA-13" target="_urLeYpb0RaFv62LWEhA-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-13" value="二级缓存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="340" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xmUlcWtJKHaokU7bJ7lM-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_urLeYpb0RaFv62LWEhA-14" target="_urLeYpb0RaFv62LWEhA-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-14" value="三级缓存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="930" y="420" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-15" value="&amp;nbsp; &amp;nbsp;k:&amp;nbsp; a&lt;br&gt;&amp;nbsp; &amp;nbsp;v:&amp;nbsp; lambda" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1060" y="420" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-16" value="A@1761&lt;br&gt;b=null" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1450" y="250" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-17" value="B@1621&lt;br&gt;a=null" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1450" y="320" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-18" value="() -&amp;gt; getEarlyBeanReference(beanName, mbd, bean)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="945" y="515" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-19" value="ObjectFactory: 函数式接口， 可以将 lambda 表达式作为参数放到方法的实参中，在方法执行的时候，并不会实际调用lambda表达式，只有在调用getObject方法的时候才会调用该表达式" style="shape=card;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;fontColor=#B5739D;spacing=18;" parent="1" vertex="1">
          <mxGeometry x="1050" y="260" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_urLeYpb0RaFv62LWEhA-20" value="&lt;span style=&quot;color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Source Han Sans SC&amp;quot;, &amp;quot;Noto Sans CJK SC&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; font-size: medium; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;spring.main.allow-circular-references&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="545" y="290" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4hDC-p1-_sIIPwVXr44e-1" value="1. 三个缓存分别存放什么对象：&lt;br&gt;一级缓存： 成品&amp;nbsp;&amp;nbsp;singletonObjects&amp;nbsp;&lt;br&gt;二级缓存： 半成品&amp;nbsp; &amp;nbsp;earlySingletonObjects&amp;nbsp;&lt;br&gt;三级缓存：lambda表达式&amp;nbsp;&amp;nbsp;singletonFactories&amp;nbsp;&lt;br&gt;&lt;br&gt;2. 若只有一个map缓存可否解决循环依赖问题？&lt;br&gt;理论上可行，但是分开是为了更好的区分成品对象与半成品对象，而半成品对象不会暴露给外部对象使用。若只有一个map，那就需要在一个map中自行区分，可能涉及到并发问题，数据结构也会过于复杂&lt;br&gt;&lt;br&gt;3. 若只有两个map缓存，可否解决循环依赖问题？&lt;br&gt;可以解决，但是有前提：没有代理对象时 可以使用两个缓存解决&lt;br&gt;&lt;br&gt;4. 为什么使用三级缓存只有就可以解决带AOP的循环引用？&lt;br&gt;&amp;nbsp; 4.1 一个容器中不能包含两个同名的两个对象&lt;br&gt;&amp;nbsp; 4.2 对象创建过程中，原始对象有可能需要生成代理对象&lt;br&gt;&amp;nbsp; 4.3&amp;nbsp;" style="shape=card;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;spacingLeft=10;spacing=15;fontColor=#B5739D;" parent="1" vertex="1">
          <mxGeometry x="680" y="675" width="520" height="260" as="geometry" />
        </mxCell>
        <mxCell id="xmUlcWtJKHaokU7bJ7lM-4" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@FunctionalInterface&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;public interface &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;ObjectFactory&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#507874;&quot;&gt;T&lt;/span&gt;&amp;gt; {&lt;br&gt;&lt;br&gt;   &lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * Return an instance (possibly shared or independent)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * of the object managed by this factory.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the resulting instance&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;font-style:italic;&quot;&gt;BeansException &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;in case of creation errors&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;    */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color:#507874;&quot;&gt;T &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getObject&lt;/span&gt;() &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeansException&lt;/span&gt;;&lt;br&gt;&lt;br&gt;}&lt;br&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="5" width="470" height="250" as="geometry" />
        </mxCell>
        <mxCell id="xmUlcWtJKHaokU7bJ7lM-5" value="&lt;pre style=&quot;background-color: rgb(41, 42, 48); font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;color: rgb(223, 223, 224);&quot;&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt; &lt;br&gt; protected &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;doCreateBean&lt;/span&gt;(&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;final &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;, &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;final &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;RootBeanDefinition &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;mbd&lt;/span&gt;, &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;final &lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object&lt;/span&gt;[] &lt;span style=&quot;color:#fcfcfc;&quot;&gt;args&lt;/span&gt;)&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;throws &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;BeanCreationException &lt;/span&gt;{&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#7f8c99&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;pre style=&quot;color: rgb(223, 223, 224); font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt;   // Instantiate the bean.&lt;br&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;   BeanWrapper &lt;/span&gt;instanceWrapper = &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;   if &lt;/span&gt;(&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;mbd&lt;/span&gt;.&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;isSingleton&lt;/span&gt;()) {&lt;br&gt;     instanceWrapper = &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;factoryBeanInstanceCache&lt;/span&gt;.&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;remove&lt;/span&gt;(&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;);&lt;br&gt;   }&lt;br&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;   if &lt;/span&gt;(instanceWrapper == &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;null&lt;/span&gt;) {&lt;/pre&gt;&lt;pre style=&quot;font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;color: rgb(223, 223, 224);&quot;&gt;     // &lt;/span&gt;&lt;font color=&quot;#ff8000&quot;&gt;实例化 bean 对象&lt;/font&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&lt;br&gt;     instanceWrapper = &lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;createBeanInstance&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;mbd&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;args&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;   }&lt;/font&gt;&lt;/pre&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;   ...&lt;br&gt;&lt;br&gt;   &lt;/font&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;// Eagerly cache singletons to be able to resolve circular references&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;   // even when triggered by lifecycle interfaces like BeanFactoryAware.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 140, 153);&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;earlySingletonExposure &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;= (&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;mbd&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;isSingleton&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;() &amp;amp;&amp;amp; &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;allowCircularReferences &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;amp;&amp;amp;&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;isSingletonCurrentlyInCreation&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;));&lt;br&gt;   &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;earlySingletonExposure&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;logger&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;isTraceEnabled&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;()) {&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;logger&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;trace&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(255, 128, 108);&quot;&gt;&quot;Eagerly caching bean &#39;&quot; &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;+ &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;+&lt;br&gt;               &lt;/font&gt;&lt;span style=&quot;color: rgb(255, 128, 108);&quot;&gt;&quot;&#39; to allow for resolving potential circular references&quot;&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;      }&lt;br&gt;      // &lt;/font&gt;&lt;font color=&quot;#ff8000&quot;&gt;实例化完成bean后提前暴露对象&lt;/font&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;addSingletonFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, () -&amp;gt; &lt;/font&gt;&lt;font color=&quot;#ff554f&quot;&gt;getEarlyBeanReference&lt;/font&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(179, 137, 197);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(179, 137, 197);&quot;&gt;mbd&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(179, 137, 197);&quot;&gt;bean&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;));&lt;br&gt;   }&lt;br&gt;   ...   &lt;br&gt; }&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;pre style=&quot;color: rgb(223, 223, 224); font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt; /**&lt;br&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;  * Add the given singleton factory for building the specified singleton&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;  * if necessary.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;  * &lt;/span&gt;&lt;span style=&quot;color: rgb(119, 183, 103); font-style: italic;&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;To be called for eager registration of singletons, e.g. to be able to&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;  * resolve circular references.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;  * &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-weight: bold; font-style: italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color: rgb(138, 101, 59); font-style: italic;&quot;&gt;beanName &lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;the name of the bean&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;  * &lt;/span&gt;&lt;span style=&quot;color: rgb(98, 151, 85); font-weight: bold; font-style: italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color: rgb(138, 101, 59); font-style: italic;&quot;&gt;singletonFactory &lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;the factory for the singleton object&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 193, 72); font-style: italic;&quot;&gt;  */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt; protected void &lt;/span&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;addSingletonFactory&lt;/span&gt;(&lt;span style=&quot;color: rgb(130, 230, 255);&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;, &lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;ObjectFactory&lt;/span&gt;&amp;lt;?&amp;gt; &lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;singletonFactory&lt;/span&gt;) {&lt;br&gt;   &lt;span style=&quot;color: rgb(130, 230, 255);&quot;&gt;Assert&lt;/span&gt;.&lt;span style=&quot;font-style: italic;&quot;&gt;notNull&lt;/span&gt;(&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;singletonFactory&lt;/span&gt;, &lt;span style=&quot;color: rgb(255, 128, 108);&quot;&gt;&quot;Singleton factory must not be null&quot;&lt;/span&gt;);&lt;br&gt;   &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;synchronized &lt;/span&gt;(&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;singletonObjects&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;(!&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;singletonObjects&lt;/span&gt;.&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;containsKey&lt;/span&gt;(&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;)) {&lt;br&gt;         &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;singletonFactories&lt;/span&gt;.&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;put&lt;/span&gt;(&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;, &lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;singletonFactory&lt;/span&gt;);&lt;br&gt;         &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;earlySingletonObjects&lt;/span&gt;.&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;remove&lt;/span&gt;(&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;);&lt;br&gt;         &lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;registeredSingletons&lt;/span&gt;.&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;);&lt;br&gt;      }&lt;br&gt;   }&lt;br&gt; }&lt;br&gt;&lt;br&gt;&lt;br&gt;  /**&lt;/pre&gt;&lt;pre style=&quot;color: rgb(223, 223, 224); font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt; * Return the (raw) singleton object registered under the given name.&lt;br&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#77b767;font-style:italic;&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;Checks already instantiated singletons and also allows for an early&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * reference to a currently created singleton (resolving a circular reference).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#8a653b;font-style:italic;&quot;&gt;beanName &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the name of the bean to look for&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#8a653b;font-style:italic;&quot;&gt;allowEarlyReference &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;whether early references should be created or not&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the registered singleton object, or {&lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@code &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;null} if none found&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#ff78b2;&quot;&gt;@Nullable&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;protected &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getSingleton&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;, &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;allowEarlyReference&lt;/span&gt;) {&lt;/pre&gt;&lt;pre style=&quot;font-family: Consolas, monospace; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;color: rgb(223, 223, 224);&quot;&gt;   // &lt;/span&gt;&lt;font color=&quot;#ff8000&quot;&gt;首先从一级缓存查询bean对象&lt;/font&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&lt;br&gt;   &lt;/font&gt;&lt;span style=&quot;color: rgb(130, 230, 255);&quot;&gt;Object &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;singletonObject = &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;singletonObjects&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;get&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;   &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(singletonObject == &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;null &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;amp;&amp;amp; &lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;isSingletonCurrentlyInCreation&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;)) {&lt;br&gt;      &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;synchronized &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;singletonObjects&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;         // &lt;/font&gt;&lt;font color=&quot;#ff8000&quot;&gt;一级缓存不存在则从二级缓存查询&lt;/font&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&lt;br&gt;         singletonObject = &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;earlySingletonObjects&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;get&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;         &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(singletonObject == &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;null &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;amp;&amp;amp; &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;allowEarlyReference&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;            // &lt;/font&gt;&lt;font color=&quot;#ff8000&quot;&gt;再查询不到则从三级缓存查询&lt;/font&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&lt;br&gt;            &lt;/font&gt;&lt;span style=&quot;color: rgb(101, 223, 255);&quot;&gt;ObjectFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;&amp;lt;?&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;singletonFactory &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;singletonFactories&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;get&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;            &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;if &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;singletonFactory &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;!= &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;null&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;) {&lt;br&gt;               singletonObject = &lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;singletonFactory&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;getObject&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;();&lt;br&gt;               &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;earlySingletonObjects&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;put&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;, singletonObject);&lt;br&gt;               &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(73, 176, 206);&quot;&gt;singletonFactories&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(117, 194, 179);&quot;&gt;remove&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(252, 252, 252);&quot;&gt;beanName&lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;);&lt;br&gt;            }&lt;br&gt;         }&lt;br&gt;      }&lt;br&gt;   }&lt;br&gt;   &lt;/font&gt;&lt;span style=&quot;color: rgb(249, 123, 176); font-weight: bold;&quot;&gt;return &lt;/span&gt;&lt;font color=&quot;#dfdfe0&quot;&gt;singletonObject;&lt;br&gt;}&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;align=left;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="680" y="940" width="880" height="1410" as="geometry" />
        </mxCell>
        <mxCell id="A3k6MUm5BAdM7bVYDQSG-1" value="&lt;pre style=&quot;background-color:#292a30;color:#dfdfe0;font-family:&#39;Consolas&#39;,monospace;font-size:10.5pt;&quot;&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * Obtain a reference for early access to the specified bean,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * typically for the purpose of resolving a circular reference.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#8a653b;font-style:italic;&quot;&gt;beanName &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the name of the bean (for error handling purposes)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#8a653b;font-style:italic;&quot;&gt;mbd &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the merged bean definition for the bean&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#8a653b;font-style:italic;&quot;&gt;bean &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the raw bean instance&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#629755;font-weight:bold;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt;the object to expose as bean reference&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5fc148;font-style:italic;&quot;&gt; */&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;protected &lt;/span&gt;&lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#75c2b3;&quot;&gt;getEarlyBeanReference&lt;/span&gt;(&lt;span style=&quot;color:#82e6ff;&quot;&gt;String &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;RootBeanDefinition &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;mbd&lt;/span&gt;, &lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;) {&lt;br&gt;   &lt;span style=&quot;color:#82e6ff;&quot;&gt;Object &lt;/span&gt;exposedObject = &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bean&lt;/span&gt;;&lt;br&gt;   &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(!&lt;span style=&quot;color:#fcfcfc;&quot;&gt;mbd&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;isSynthetic&lt;/span&gt;() &amp;amp;&amp;amp; &lt;span style=&quot;color:#75c2b3;&quot;&gt;hasInstantiationAwareBeanPostProcessors&lt;/span&gt;()) {&lt;br&gt;      &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color:#65dfff;&quot;&gt;BeanPostProcessor &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bp &lt;/span&gt;: &lt;span style=&quot;color:#75c2b3;&quot;&gt;getBeanPostProcessors&lt;/span&gt;()) {&lt;br&gt;         &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#fcfcfc;&quot;&gt;bp &lt;/span&gt;&lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color:#65dfff;&quot;&gt;SmartInstantiationAwareBeanPostProcessor&lt;/span&gt;) {&lt;br&gt;            &lt;span style=&quot;color:#65dfff;&quot;&gt;SmartInstantiationAwareBeanPostProcessor &lt;/span&gt;&lt;span style=&quot;color:#fcfcfc;&quot;&gt;ibp &lt;/span&gt;= (&lt;span style=&quot;color:#65dfff;&quot;&gt;SmartInstantiationAwareBeanPostProcessor&lt;/span&gt;) &lt;span style=&quot;color:#fcfcfc;&quot;&gt;bp&lt;/span&gt;;&lt;br&gt;            exposedObject = &lt;span style=&quot;color:#fcfcfc;&quot;&gt;ibp&lt;/span&gt;.&lt;span style=&quot;color:#75c2b3;&quot;&gt;getEarlyBeanReference&lt;/span&gt;(exposedObject, &lt;span style=&quot;color:#fcfcfc;&quot;&gt;beanName&lt;/span&gt;);&lt;br&gt;         }&lt;br&gt;      }&lt;br&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#f97bb0;font-weight:bold;&quot;&gt;return &lt;/span&gt;exposedObject;&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;align=left;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1580" y="1200" width="820" height="340" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
